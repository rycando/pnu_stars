<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="pnu_stars.css" />
  </head>
  <body>
    <div className="container mx-auto px-4 py-8">
      <div className="mb-6">
        <a
          href="/"
          style="display: inline-flex; align-items: center; gap: 0.25rem"
        >
          <!-- <ArrowLeft className="h-4 w-4" /> -->
          <span>메인으로 돌아가기</span>
        </a>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
        <div className="h-full">
          <div>
            <h3 className="text-2xl">{restaurant.name}</h3>
          </div>
          <div className="space-y-4">
            <div className="flex items-start gap-3">
              <Utensils className="h-5 w-5 mt-0.5 text-muted-foreground" />
              <div>
                <h3 className="font-medium">카테고리</h3>
                <p>{restaurant.category}</p>
              </div>
            </div>

            <div className="flex items-start gap-3">
              <MapPin className="h-5 w-5 mt-0.5 text-muted-foreground" />
              <div>
                <h3 className="font-medium">주소</h3>
                <p>{restaurant.address}</p>
              </div>
            </div>

            {restaurant.links && restaurant.links.length > 0 && (
            <div className="flex items-start gap-3">
              <LinkIcon className="h-5 w-5 mt-0.5 text-muted-foreground" />
              <div>
                <h3 className="font-medium">관련 링크</h3>
                <ul className="space-y-1 mt-1">
                  {restaurant.links.map((link, index) => (
                  <li key="{index}">
                    <a
                      href="{link.url}"
                      target="_blank"
                      rel="noopener noreferrer"
                      className="text-blue-600 hover:text-blue-800 hover:underline"
                    >
                      {link.title}
                    </a>
                  </li>
                  ))}
                </ul>
              </div>
            </div>
            )}
          </div>
        </div>
        <div className="h-full">
          <div>
            <h3>위치</h3>
          </div>
          <div>
            <div
              ref="{mapRef}"
              className="w-full h-[300px] bg-gray-100 rounded-md"
            >
              <div
                className="flex items-center justify-center h-full text-gray-500"
              >
                <p>지도를 불러오는 중입니다...</p>
              </div>
            </div>
            <p className="mt-2 text-sm text-muted-foreground">
              * 실제 구현 시 네이버 클라우드 플랫폼에서 Client ID를 발급받아
              사용해야 합니다.
            </p>
          </div>
        </div>
      </div>

      <div className="mt-8">
        <div>
          <div>
            <h3>댓글</h3>
          </div>
          <div>
            <form onSubmit="{handleSubmit}" className="mb-6">
              <textarea
                placeholder="댓글을 작성해주세요 (익명으로 등록됩니다)"
                value="{newComment}"
                className="mb-3 min-h-[100px]"
              />
              <button type="submit" className="w-full sm:w-auto">
                {submitting ? "등록 중..." : "댓글 등록"}
              </button>
            </form>

            <div className="space-y-4">
              {loading ? (
              <div className="text-center py-4">댓글을 불러오는 중...</div>
              ) : comments.length > 0 ? ( comments.map((comment) => (
              <div key="{comment.id}" className="border-b pb-4 last:border-0">
                <div className="flex justify-between items-center mb-2">
                  <span className="font-medium">익명</span>
                  <span className="text-sm text-muted-foreground">
                    {new Date(comment.createdAt).toLocaleDateString()}
                  </span>
                </div>
                <p className="text-gray-700">{comment.content}</p>
              </div>
              )) ) : (
              <div className="text-center py-4 text-muted-foreground">
                아직 댓글이 없습니다. 첫 댓글을 작성해보세요!
              </div>
              )}
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
